<html>
  <head>
    <meta charset="utf-8"/>
    <title>Alarmes</title>
    <link rel="stylesheet" href="surveillance.css"/>
    <script type="text/javascript" src="surveillance-alarmes.js"></script>
    <script type="text/javascript" src="surveillance.js"></script>
    <script>
    /***********************************************
                 Variables globales
    ************************************************/
    // Tableau pour stocker la liste des alarmes
    var alarmes = new Array();
    // À titre d'exemple, une première alarme est créée pour vous.
    var premiereAlarme = new Alarme("alarmeDemo", 20);
    alarmes[0] = premiereAlarme;
    // Tableau pour stocker la liste des capteurs simulés
    var capteursSimules = new Array();
    // Tableau pour stocker la liste des capteurs réels
    var capteursReels = new Array();

    // Variable permettant de mémoriser le capteur sélectionné pour
    // être associé à une alarme
    var capteurAAssocier = null;

    // fonction utilitaire permettant, dans un des tableaux mentionnés ci-dessus,
    // de rechercher un élément (alarme ou capteur) à partir de son nom.
    function rechercherParNom(tableau, nom) {
      for (var i = 0; i < tableau.length; i++) {
        var elementCourant = tableau[i];
        if (elementCourant.nom === nom) {
          return elementCourant;
        }
      }
      return undefined;
    }
    window.addEventListener("load", init, true);
    </script>
  </head>
  <body>
    <div id="page">
      <h1>Tableau de bord</h1>
      <div id="alarmes" class="section">
        <h2>Alarmes</h2>
        <div id="affichageAlarmes" class="affichage">
          <table border="1" id="tableauAlarmes">
            <tr><th colspan="5">Liste des alarmes</th></tr>
            <tr><th>Nom</th><th>Seuil</th><th>Capteur associé</th><th>État</th><th>Suppression</th></tr>
          </table>
        </div>
        <div id="ajoutAlarme" class="ajout">
          <table border="1">
            <tr><th colspan="2">Ajouter une alarme</th></tr>
            <tr><th>Nom de l'alarme</th><th>Seuil</th></tr>
            <tr><td><input type="text" id="nomNouvelleAlarme"/></td>
                <td><input type="text" id="seuilNouvelleAlarme"/></td></tr>
            <tr><td colspan="2"><input type="button" value="ajouter" id="bAjoutAlarme"/></td></tr>
          </table>
        </div>
        <br/>
      </div>
      <div id="capteursSimules" class="section">
        <h2>Capteurs simulés</h2>
        <div id="affichageCapteursSimules" class="affichage">
          <table border="1" id="tableauCapteursSimules">
            <tr><th colspan="4">Liste des Capteurs Simulés</th></tr>
            <tr><th>Nom</th><th>Valeur courante</th><th>Réglages</th><th>Associer une alarme</th></tr>
          </table>
        </div>
        <div id="ajoutCapteurSimule" class="ajout">
          <table border="1">
            <tr><th colspan="2">Ajouter un capteur simulé</th></tr>
            <tr><th>Nom du capteur</th><th>Valeur</th></tr>
            <tr><td><input type="text" id="nomNouveauCapteurSimule"/></td>
                <td><input type="text" id="valeurNouveauCapteurSimule"/></td></tr>
            <tr><td colspan="2"><input type="button" value="ajouter" id="bAjoutCapteurSimule"/></td></tr>
          </table>
        </div>
        <br/>
      </div>
      <div id="capteursReels" class="section">
        <h2>Capteurs réels</h2>
        <div id="affichageCapteursReels" class="affichage">
          <table border="1" id="tableauCapteursReels">
            <tr><th colspan="3">Liste des Capteurs Réels</th></tr>
            <tr><th>Nom</th><th>Valeur courante</th><th>Associer une alarme</th></tr>
          </table>
        </div>
        <div id="ajoutCapteurReel" class="ajout">
          <table border="1">
            <tr><th>Ajouter un capteur réel</th></tr>
            <tr><th>Nom du capteur serveur</th></tr>
            <tr>
                <td><select id="nomNouveauCapteurReel"/></td></tr>
            <tr><td colspan="2"><input type="button" value="ajouter" id="bAjoutCapteurReel"/></td></tr>
          </table>
        </div>
        <br/>
      </div>
      <h2>État</h2>
      <div id="etat"/>
      </div>
    </div>
  </body>
</html>
