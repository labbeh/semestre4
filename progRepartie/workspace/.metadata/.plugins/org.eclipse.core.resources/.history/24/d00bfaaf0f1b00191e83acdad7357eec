package tp1;

import java.util.Stack;

public class PlusieursThreads {

	/**
	 * @param args
	 */
	public static void main(String[] args) {
		new PlusieursThreads().creerThreads();
		
		Thread[] tab = new Thread[100];
		int nb = Thread.enumerate(tab);
		
		System.out.println("Il y a " +nb+ " threads actifs");
		for(int i=0; i<tab.length; i++){
			if(tab[i] != null) System.out.println(tab[i]);
			else i = tab.length;
		}
	}
	
	public void creerThreads(){
		CreerThread2 t1 = new CreerThread2();
		CreerThread2 t2 = new CreerThread2();
		
		t1.run();
		t2.run();
	}
	
	class CreerThread1 extends Thread{
		private Thread th1;
		private Thread th2;
		
		public CreerThread1() {
			th1 = new Thread();
			th2 = new Thread();
		}
		
		@Override
		public void run(){
			super.run();
			
			th1.run();
			th2.run();
		}
	}
	
	class CreerThread2 extends Thread{
		private CreerThread1 th1;
		private CreerThread1 th2;
		
		public CreerThread2() {
			th1 = new CreerThread1();
			th2 = new CreerThread1();
		}
		
		@Override
		public void run(){
			super.run();
			
			th1.run();
			th2.run();
		}
	}

}
