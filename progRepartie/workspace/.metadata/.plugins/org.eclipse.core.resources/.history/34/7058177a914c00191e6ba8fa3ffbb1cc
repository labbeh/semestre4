package chat.metier.reseau;

import java.io.IOException;
import java.net.InetAddress;
import java.net.MulticastSocket;

/**
 * Classe de gestion de la réception et l'envoie de message pour un client
 * */
public class Client {	
	/**
	 *   adresse IP 
	**/
	private InetAddress mcast;
	
	
	/**
	 *   Port 
	**/
	private MulticastSocket ms;
	
	/**
	 * Constructeur de la classe Client
	 * @param ip ip du serveur en int
	 * @param port port de communication en String
	 */
	public Client( int port, String ip )
	{
		try{
			ms = new MulticastSocket(port);
			mcast = InetAddress.getByName(ip);
		}
		catch(IOException evt){System.out.println(evt);}
	}
	
	/**
	 * Méthode permettant de lancer le client
	 */
	public void lancer()
	{
		while(true)
		{
			System.out.print("Tapez message: ");
			message = clavier.nextLine();
		
			DatagramPacket dp = new DatagramPacket(message.getBytes(),message.length(), mcast,4567);
			ms.send(dp);
		}
	}
}
