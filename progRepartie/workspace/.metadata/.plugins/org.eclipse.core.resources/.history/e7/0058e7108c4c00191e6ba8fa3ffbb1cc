package chat.metier.reseau;

import java.net.*;
public class Serveur
{
	/**
	 * Adresse ip
	 */
	private InetAddress mcast;
	
	/**
	 * Port récepteur
	 */
	private MulticastSocket ms;
	
	/**
	 * Constructeur de la classe Serveur
	 * @param ip String, port int
	 */
	public Serveur (String ip, int port)
	{
		mcast = InetAddress.getByName(ip);
		ms = new MulticastSocket(port);
		ms.joinGroup(mcast);
	}
	
	/**
	 * Méthode permettant de lancer le serveur
	 */
	public void lancement ()
	{
		while (true) 
		{
			DatagramPacket msg = new DatagramPacket(new byte[512], 512);
			ms.receive(msg);
			System.out.println(msg.getAddress() + ":" +msg.getPort() +
			"a envoyé " + new String(msg.getData()));
		}
	}
}
